<!DOCTYPE HTML>
<html>
<head>
    <title>Boxxy runner view</title>
    <script type="text/javascript">
        var g = document.createElement('script'),
            s = document.getElementsByTagName('script')[0];
        g.src = 'http://' + window.location.hostname + ':8080/boxxy.js';
        s.parentNode.insertBefore(g, s);
    </script>
    <script type="text/javascript" src="lib/boxxy-interface.js"></script>
    <script type="text/javascript" src="lib/jquery-1.7.1.min.js"></script>
    <script type="text/javascript">
        window.onload = function() {
            var boxxy = new Boxxy();
            boxxy.debug = true;

            var container = $('#last-laps');
            boxxy.addedLap = function(message) {
                var row = $('<li>').text(message.team.name);

                // TODO: show lap time and ranking
                // TODO: update rankings on other teams as well
                // TODO: queue updates so there is a minimum amount of
                // time between them

                if (container.children().length >= 6) {
                    container.children().last().remove();
                }
                container.prepend(row).slideDown();
            }
            boxxy.connect();
        }
    </script>
    <link rel="stylesheet" type="text/css" href="style.css" media="screen" />
    <style type="text/css">
        #container {
            width: 600px;
        }

        #logo {
            display: block;
            margin: 30px auto;
        }

        #last-laps li {
            list-style: none;
            text-align: center;
            -webkit-transition: all 0.4s ease-out;
            -moz-transition: all 0.4s ease-out;
            -o-transition: all 0.4s ease-out;
            -ms-transition: all 0.4s ease-out;
        }

        @-webkit-keyframes fade-in {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }

        #last-laps li:nth-child(1) {
            font-size: 92px;
            margin: 0 0 20px;
            -webkit-transition: none;
            -webkit-animation-name: fade-in;
            -webkit-animation-duration: 0.4s;
            -webkit-animation-timing-function: ease-in;
        }
        #last-laps li:nth-child(2) {
            font-size: 72px;
            margin: 0 0 18px;
        }
        #last-laps li:nth-child(3) {
            font-size: 58px;
            margin: 0 0 18px;
        }
        #last-laps li:nth-child(4) {
            font-size: 42px;
        }
        #last-laps li {
            font-size: 34px;
            margin: 14px 0;
        }
    </style>
</head>
<body>
    <div id="container">
        <img id="logo" src="assets/logo-200.png" />
        <ul id="last-laps">
            <li>Eerste team</li>
            <li>Tweede team</li>
            <li>Derde team</li>
            <li>Vierde team</li>
            <li>Vijfde team</li>
            <li>Zesde team</li>
        </ul>
    </div>
    <div class="fade"></div>
</body>
</html>
